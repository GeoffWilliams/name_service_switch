<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: name_service_switch
  
    &mdash; Documentation by YARD 0.9.8
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_classes::name_service_switch";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (n)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">name_service_switch</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: name_service_switch</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd><span class='object_link'><a href="name_service_switch_3A_3Aparams.html" title="puppet_classes::name_service_switch::params (puppet_class)">name_service_switch::params</a></span></dd>
  </dl>
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/init.pp
    </dd>
  </dl>
</div>
<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>Name_service_switch</p>

<p>Manage the name service switch - Manage the name service switch -
<code>/etc/nsswitch.conf</code> on Linux and Solaris,
<code>/etc/netsvc.conf</code> on AIX</p>

<p>The different supported platforms have different ways of assigning values
in their respective configuration files. For example, solaris uses:
<code>:\tVALUE</code> Whereas AIX uses: <code>=</code> In the examples
above, up-to three characters are used to delimit a key vs a value. Taking
AIX, ldelim is <code>, delim is</code> and rdelim is â€œ.</p>

<p>The module largely takes care of these idiosyncrasies itself, however, you
may override via parameters if necessary</p>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>nss_owner</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::nss_owner</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>File owner for files managed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>nss_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::nss_path</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Path to file containing name service switch information</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>nss_group</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::nss_group</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>File group for files managed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>nss_mode</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::nss_mode</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>File mode for files managed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ldelim</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::ldelim</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Left delimiter between a key and a value</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>delim</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::delim</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Central delimiter between a key and a value</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rdelim</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::rdelim</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Right delimiter between a key and a value</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>entries</span>
      
      
        <span class='type'>(<tt>Hash[String,String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$name_service_switch::params::entries</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Hash of key value pairs to add to the name service switch file. If entries
already exist they will be edited to show the values in this hash. The
keyname is the the switch you are changing, eg <code>hosts</code> and the
value is the desired new setting, eg <code>files dns</code></p>
</div>
      
    </li>
  
</ul>


</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/init.pp', line 28</span>

class name_service_switch(
    String              $nss_owner  = $name_service_switch::params::nss_owner,
    String              $nss_path   = $name_service_switch::params::nss_path,
    String              $nss_group  = $name_service_switch::params::nss_group,
    String              $nss_mode   = $name_service_switch::params::nss_mode,
    String              $ldelim     = $name_service_switch::params::ldelim,
    String              $delim      = $name_service_switch::params::delim,
    String              $rdelim     = $name_service_switch::params::rdelim,
    Hash[String,String] $entries    = $name_service_switch::params::entries,
) inherits name_service_switch::params {

  file { $nss_path:
    ensure =&gt; file,
    owner  =&gt; $nss_owner,
    group  =&gt; $nss_group,
    mode   =&gt; $nss_mode,
  }

  $ldelim_re = $ldelim ? {
    &quot;&quot;      =&gt; &quot;&quot;,
    default =&gt; &quot;${ldelim}*&quot;,
  }

  $entries.each |$key, $value| {
    file_line { &quot;${nss_path} ${key}&quot;:
      ensure =&gt; present,
      path   =&gt; $nss_path,
      line   =&gt; &quot;${key}${ldelim}${delim}${rdelim}${value}&quot;,
      match  =&gt; &quot;^${key}${ldelim_re}${delim}&quot;,
    }
  }

}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>